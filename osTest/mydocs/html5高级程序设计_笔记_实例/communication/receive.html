<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>receive</title>
</head>

<body>
<script>
/*
http://test1.myyule.com.cn:8089/template/yf/test/communication/send.html
http://172.21.39.116:8080/videotest/t/receive.html
*/

var targetOrigin = "http://test1.myyule.com.cn:8089";//注意最后不能有有“/”

function sendString(s)
{
    window.top.postMessage(s, targetOrigin);
}

function messageHandler(e)
{
    if (e.origin === targetOrigin)
	{
		alert("messageHandler : e.data="+e.data);
		sendString("return "+e.data);
    } 
	else
	{
		alert("ignore messages from other origins");
    }
}
function loadDemo() 
{
	window.addEventListener("message", messageHandler, true);
}
window.addEventListener("load", loadDemo, true);

</script>

<input type="text" id="statusText" value="receive" /><br/>
<!--
<button id="sendButton">Change Status</button><br/>
<button id="stopButton">Stop Blinking Title</button>
-->

</body>
</html>
